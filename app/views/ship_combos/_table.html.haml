%table.table.table-striped.table-bordered.table-for-search
  %tr
    %th.text-nowrap= t('.position')
    %th.text-nowrap= t('.archetype_name')
    %th.text-nowrap= t('.ship_names')
    %th.text-nowrap= t('.squadron_count')
    %th.text-nowrap= t('.tournaments_count')
    %th.text-nowrap= t('.average_percentile')
    %th.text-nowrap.magic-column= t('.weight')
  - ship_combos.each.with_index do |ship_combo, index|
    %tr.row-for-search{data: {ship_combo_id: ship_combo.id}}
      %td
        %strong= "#{index + 1}."
      %td
        = link_with_filter_to ship_combo_path(ship_combo.id) do
          = ship_combo.archetype_name.presence || t('.unnamed_archetype')
      %td
        - ships[ship_combo.id].each do |ship_info|
          = link_to ship_path(ship_info[:id]) do
            %i.xwing-miniatures-ship{class: "xwing-miniatures-ship-#{ship_info[:font_icon_class]}"}
            = ship_info[:name]
      %td
        = ship_combo.squadrons
      %td
        = ship_combo.tournaments
      %td
        = (ship_combo.average_percentile * 1000).to_i / 10.0
      %td.magic-column
        = render '/shared/magic_bar', max_weight: ship_combos.first.weight, weight: ship_combo.weight
